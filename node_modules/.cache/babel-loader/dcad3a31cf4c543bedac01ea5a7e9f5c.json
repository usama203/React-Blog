{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"format\"],\n    _excluded2 = [\"children\", \"count\", \"parent\", \"i18nKey\", \"context\", \"tOptions\", \"values\", \"defaults\", \"components\", \"ns\", \"i18n\", \"t\", \"shouldUnescape\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React, { useContext } from 'react';\nimport HTML from 'html-parse-stringify';\nimport { unescape } from 'html-escaper';\nimport { getI18n, I18nContext, getDefaults } from './context';\nimport { warn, warnOnce } from './utils';\n\nfunction hasChildren(node, checkLength) {\n  if (!node) return false;\n  var base = node.props ? node.props.children : node.children;\n  if (checkLength) return base.length > 0;\n  return !!base;\n}\n\nfunction getChildren(node) {\n  if (!node) return [];\n  return node && node.children ? node.children : node.props && node.props.children;\n}\n\nfunction hasValidReactChildren(children) {\n  if (Object.prototype.toString.call(children) !== '[object Array]') return false;\n  return children.every(function (child) {\n    return React.isValidElement(child);\n  });\n}\n\nfunction getAsArray(data) {\n  return Array.isArray(data) ? data : [data];\n}\n\nfunction mergeProps(source, target) {\n  var newTarget = _objectSpread({}, target);\n\n  newTarget.props = Object.assign(source.props, target.props);\n  return newTarget;\n}\n\nexport function nodesToString(children, i18nOptions) {\n  if (!children) return '';\n  var stringNode = '';\n  var childrenArray = getAsArray(children);\n  var keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n  childrenArray.forEach(function (child, childIndex) {\n    if (typeof child === 'string') {\n      stringNode += \"\".concat(child);\n    } else if (React.isValidElement(child)) {\n      var childPropsCount = Object.keys(child.props).length;\n      var shouldKeepChild = keepArray.indexOf(child.type) > -1;\n      var childChildren = child.props.children;\n\n      if (!childChildren && shouldKeepChild && childPropsCount === 0) {\n        stringNode += \"<\".concat(child.type, \"/>\");\n      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {\n        stringNode += \"<\".concat(childIndex, \"></\").concat(childIndex, \">\");\n      } else if (child.props.i18nIsDynamicList) {\n        stringNode += \"<\".concat(childIndex, \"></\").concat(childIndex, \">\");\n      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {\n        stringNode += \"<\".concat(child.type, \">\").concat(childChildren, \"</\").concat(child.type, \">\");\n      } else {\n        var content = nodesToString(childChildren, i18nOptions);\n        stringNode += \"<\".concat(childIndex, \">\").concat(content, \"</\").concat(childIndex, \">\");\n      }\n    } else if (child === null) {\n      warn(\"Trans: the passed in value is invalid - seems you passed in a null child.\");\n    } else if (_typeof(child) === 'object') {\n      var format = child.format,\n          clone = _objectWithoutProperties(child, _excluded);\n\n      var keys = Object.keys(clone);\n\n      if (keys.length === 1) {\n        var value = format ? \"\".concat(keys[0], \", \").concat(format) : keys[0];\n        stringNode += \"{{\".concat(value, \"}}\");\n      } else {\n        warn(\"react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.\", child);\n      }\n    } else {\n      warn(\"Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.\", child);\n    }\n  });\n  return stringNode;\n}\n\nfunction renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n  if (targetString === '') return [];\n  var keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n  var emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.join('|')).test(targetString);\n  if (!children && !emptyChildrenButNeedsHandling) return [targetString];\n  var data = {};\n\n  function getData(childs) {\n    var childrenArray = getAsArray(childs);\n    childrenArray.forEach(function (child) {\n      if (typeof child === 'string') return;\n      if (hasChildren(child)) getData(getChildren(child));else if (_typeof(child) === 'object' && !React.isValidElement(child)) Object.assign(data, child);\n    });\n  }\n\n  getData(children);\n  var ast = HTML.parse(\"<0>\".concat(targetString, \"</0>\"));\n\n  var opts = _objectSpread(_objectSpread({}, data), combinedTOpts);\n\n  function renderInner(child, node, rootReactNode) {\n    var childs = getChildren(child);\n    var mappedChildren = mapAST(childs, node.children, rootReactNode);\n    return hasValidReactChildren(childs) && mappedChildren.length === 0 ? childs : mappedChildren;\n  }\n\n  function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n    if (child.dummy) child.children = inner;\n    mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n      key: i\n    }), isVoid ? undefined : inner));\n  }\n\n  function mapAST(reactNode, astNode, rootReactNode) {\n    var reactNodes = getAsArray(reactNode);\n    var astNodes = getAsArray(astNode);\n    return astNodes.reduce(function (mem, node, i) {\n      var translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n\n      if (node.type === 'tag') {\n        var tmp = reactNodes[parseInt(node.name, 10)];\n        if (!tmp && rootReactNode.length === 1 && rootReactNode[0][node.name]) tmp = rootReactNode[0][node.name];\n        if (!tmp) tmp = {};\n        var child = Object.keys(node.attrs).length !== 0 ? mergeProps({\n          props: node.attrs\n        }, tmp) : tmp;\n        var isElement = React.isValidElement(child);\n        var isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;\n        var isEmptyTransWithHTML = emptyChildrenButNeedsHandling && _typeof(child) === 'object' && child.dummy && !isElement;\n        var isKnownComponent = _typeof(children) === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);\n\n        if (typeof child === 'string') {\n          var value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n          mem.push(value);\n        } else if (hasChildren(child) || isValidTranslationWithChildren) {\n          var inner = renderInner(child, node, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (isEmptyTransWithHTML) {\n          var _inner = mapAST(reactNodes, node.children, rootReactNode);\n\n          mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n            key: i\n          }), _inner));\n        } else if (Number.isNaN(parseFloat(node.name))) {\n          if (isKnownComponent) {\n            var _inner2 = renderInner(child, node, rootReactNode);\n\n            pushTranslatedJSX(child, _inner2, mem, i, node.voidElement);\n          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n            if (node.voidElement) {\n              mem.push(React.createElement(node.name, {\n                key: \"\".concat(node.name, \"-\").concat(i)\n              }));\n            } else {\n              var _inner3 = mapAST(reactNodes, node.children, rootReactNode);\n\n              mem.push(React.createElement(node.name, {\n                key: \"\".concat(node.name, \"-\").concat(i)\n              }, _inner3));\n            }\n          } else if (node.voidElement) {\n            mem.push(\"<\".concat(node.name, \" />\"));\n          } else {\n            var _inner4 = mapAST(reactNodes, node.children, rootReactNode);\n\n            mem.push(\"<\".concat(node.name, \">\").concat(_inner4, \"</\").concat(node.name, \">\"));\n          }\n        } else if (_typeof(child) === 'object' && !isElement) {\n          var content = node.children[0] ? translationContent : null;\n          if (content) mem.push(content);\n        } else if (node.children.length === 1 && translationContent) {\n          mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n            key: i\n          }), translationContent));\n        } else {\n          mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n            key: i\n          })));\n        }\n      } else if (node.type === 'text') {\n        var wrapTextNodes = i18nOptions.transWrapTextNodes;\n\n        var _content = shouldUnescape ? unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n\n        if (wrapTextNodes) {\n          mem.push(React.createElement(wrapTextNodes, {\n            key: \"\".concat(node.name, \"-\").concat(i)\n          }, _content));\n        } else {\n          mem.push(_content);\n        }\n      }\n\n      return mem;\n    }, []);\n  }\n\n  var result = mapAST([{\n    dummy: true,\n    children: children || []\n  }], ast, getAsArray(children || []));\n  return getChildren(result[0]);\n}\n\nexport function Trans(_ref) {\n  var children = _ref.children,\n      count = _ref.count,\n      parent = _ref.parent,\n      i18nKey = _ref.i18nKey,\n      context = _ref.context,\n      _ref$tOptions = _ref.tOptions,\n      tOptions = _ref$tOptions === void 0 ? {} : _ref$tOptions,\n      values = _ref.values,\n      defaults = _ref.defaults,\n      components = _ref.components,\n      ns = _ref.ns,\n      i18nFromProps = _ref.i18n,\n      tFromProps = _ref.t,\n      shouldUnescape = _ref.shouldUnescape,\n      additionalProps = _objectWithoutProperties(_ref, _excluded2);\n\n  var _ref2 = useContext(I18nContext) || {},\n      i18nFromContext = _ref2.i18n,\n      defaultNSFromContext = _ref2.defaultNS;\n\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');\n    return children;\n  }\n\n  var t = tFromProps || i18n.t.bind(i18n) || function (k) {\n    return k;\n  };\n\n  if (context) tOptions.context = context;\n\n  var reactI18nextOptions = _objectSpread(_objectSpread({}, getDefaults()), i18n.options && i18n.options.react);\n\n  var namespaces = ns || t.ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  var defaultValue = defaults || nodesToString(children, reactI18nextOptions) || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n  var hashTransKey = reactI18nextOptions.hashTransKey;\n  var key = i18nKey || (hashTransKey ? hashTransKey(defaultValue) : defaultValue);\n  var interpolationOverride = values ? tOptions.interpolation : {\n    interpolation: _objectSpread(_objectSpread({}, tOptions.interpolation), {}, {\n      prefix: '#$?',\n      suffix: '?$#'\n    })\n  };\n\n  var combinedTOpts = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, tOptions), {}, {\n    count: count\n  }, values), interpolationOverride), {}, {\n    defaultValue: defaultValue,\n    ns: namespaces\n  });\n\n  var translation = key ? t(key, combinedTOpts) : defaultValue;\n  var content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n  var useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n  return useAsParent ? React.createElement(useAsParent, additionalProps, content) : content;\n}","map":{"version":3,"sources":["D:/Reactjs/New folder/blogging/node_modules/react-i18next/dist/es/Trans.js"],"names":["_objectWithoutProperties","_typeof","_defineProperty","_excluded","_excluded2","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useContext","HTML","unescape","getI18n","I18nContext","getDefaults","warn","warnOnce","hasChildren","node","checkLength","base","props","children","getChildren","hasValidReactChildren","prototype","toString","call","every","child","isValidElement","getAsArray","data","Array","isArray","mergeProps","newTarget","assign","nodesToString","i18nOptions","stringNode","childrenArray","keepArray","transSupportBasicHtmlNodes","transKeepBasicHtmlNodesFor","childIndex","concat","childPropsCount","shouldKeepChild","indexOf","type","childChildren","i18nIsDynamicList","content","format","clone","value","renderNodes","targetString","i18n","combinedTOpts","shouldUnescape","emptyChildrenButNeedsHandling","RegExp","join","test","getData","childs","ast","parse","opts","renderInner","rootReactNode","mappedChildren","mapAST","pushTranslatedJSX","inner","mem","isVoid","dummy","cloneElement","undefined","reactNode","astNode","reactNodes","astNodes","reduce","translationContent","services","interpolator","interpolate","language","tmp","parseInt","name","attrs","isElement","isValidTranslationWithChildren","voidElement","isEmptyTransWithHTML","isKnownComponent","hasOwnProperty","_inner","Number","isNaN","parseFloat","_inner2","createElement","_inner3","_inner4","wrapTextNodes","transWrapTextNodes","_content","result","Trans","_ref","count","parent","i18nKey","context","_ref$tOptions","tOptions","values","defaults","components","ns","i18nFromProps","tFromProps","t","additionalProps","_ref2","i18nFromContext","defaultNSFromContext","defaultNS","bind","k","reactI18nextOptions","options","react","namespaces","defaultValue","transEmptyNodeValue","hashTransKey","interpolationOverride","interpolation","prefix","suffix","translation","useAsParent","defaultTransParent"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"format\"],\n    _excluded2 = [\"children\", \"count\", \"parent\", \"i18nKey\", \"context\", \"tOptions\", \"values\", \"defaults\", \"components\", \"ns\", \"i18n\", \"t\", \"shouldUnescape\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext } from 'react';\nimport HTML from 'html-parse-stringify';\nimport { unescape } from 'html-escaper';\nimport { getI18n, I18nContext, getDefaults } from './context';\nimport { warn, warnOnce } from './utils';\n\nfunction hasChildren(node, checkLength) {\n  if (!node) return false;\n  var base = node.props ? node.props.children : node.children;\n  if (checkLength) return base.length > 0;\n  return !!base;\n}\n\nfunction getChildren(node) {\n  if (!node) return [];\n  return node && node.children ? node.children : node.props && node.props.children;\n}\n\nfunction hasValidReactChildren(children) {\n  if (Object.prototype.toString.call(children) !== '[object Array]') return false;\n  return children.every(function (child) {\n    return React.isValidElement(child);\n  });\n}\n\nfunction getAsArray(data) {\n  return Array.isArray(data) ? data : [data];\n}\n\nfunction mergeProps(source, target) {\n  var newTarget = _objectSpread({}, target);\n\n  newTarget.props = Object.assign(source.props, target.props);\n  return newTarget;\n}\n\nexport function nodesToString(children, i18nOptions) {\n  if (!children) return '';\n  var stringNode = '';\n  var childrenArray = getAsArray(children);\n  var keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n  childrenArray.forEach(function (child, childIndex) {\n    if (typeof child === 'string') {\n      stringNode += \"\".concat(child);\n    } else if (React.isValidElement(child)) {\n      var childPropsCount = Object.keys(child.props).length;\n      var shouldKeepChild = keepArray.indexOf(child.type) > -1;\n      var childChildren = child.props.children;\n\n      if (!childChildren && shouldKeepChild && childPropsCount === 0) {\n        stringNode += \"<\".concat(child.type, \"/>\");\n      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {\n        stringNode += \"<\".concat(childIndex, \"></\").concat(childIndex, \">\");\n      } else if (child.props.i18nIsDynamicList) {\n        stringNode += \"<\".concat(childIndex, \"></\").concat(childIndex, \">\");\n      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {\n        stringNode += \"<\".concat(child.type, \">\").concat(childChildren, \"</\").concat(child.type, \">\");\n      } else {\n        var content = nodesToString(childChildren, i18nOptions);\n        stringNode += \"<\".concat(childIndex, \">\").concat(content, \"</\").concat(childIndex, \">\");\n      }\n    } else if (child === null) {\n      warn(\"Trans: the passed in value is invalid - seems you passed in a null child.\");\n    } else if (_typeof(child) === 'object') {\n      var format = child.format,\n          clone = _objectWithoutProperties(child, _excluded);\n\n      var keys = Object.keys(clone);\n\n      if (keys.length === 1) {\n        var value = format ? \"\".concat(keys[0], \", \").concat(format) : keys[0];\n        stringNode += \"{{\".concat(value, \"}}\");\n      } else {\n        warn(\"react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.\", child);\n      }\n    } else {\n      warn(\"Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.\", child);\n    }\n  });\n  return stringNode;\n}\n\nfunction renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n  if (targetString === '') return [];\n  var keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n  var emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.join('|')).test(targetString);\n  if (!children && !emptyChildrenButNeedsHandling) return [targetString];\n  var data = {};\n\n  function getData(childs) {\n    var childrenArray = getAsArray(childs);\n    childrenArray.forEach(function (child) {\n      if (typeof child === 'string') return;\n      if (hasChildren(child)) getData(getChildren(child));else if (_typeof(child) === 'object' && !React.isValidElement(child)) Object.assign(data, child);\n    });\n  }\n\n  getData(children);\n  var ast = HTML.parse(\"<0>\".concat(targetString, \"</0>\"));\n\n  var opts = _objectSpread(_objectSpread({}, data), combinedTOpts);\n\n  function renderInner(child, node, rootReactNode) {\n    var childs = getChildren(child);\n    var mappedChildren = mapAST(childs, node.children, rootReactNode);\n    return hasValidReactChildren(childs) && mappedChildren.length === 0 ? childs : mappedChildren;\n  }\n\n  function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n    if (child.dummy) child.children = inner;\n    mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n      key: i\n    }), isVoid ? undefined : inner));\n  }\n\n  function mapAST(reactNode, astNode, rootReactNode) {\n    var reactNodes = getAsArray(reactNode);\n    var astNodes = getAsArray(astNode);\n    return astNodes.reduce(function (mem, node, i) {\n      var translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n\n      if (node.type === 'tag') {\n        var tmp = reactNodes[parseInt(node.name, 10)];\n        if (!tmp && rootReactNode.length === 1 && rootReactNode[0][node.name]) tmp = rootReactNode[0][node.name];\n        if (!tmp) tmp = {};\n        var child = Object.keys(node.attrs).length !== 0 ? mergeProps({\n          props: node.attrs\n        }, tmp) : tmp;\n        var isElement = React.isValidElement(child);\n        var isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;\n        var isEmptyTransWithHTML = emptyChildrenButNeedsHandling && _typeof(child) === 'object' && child.dummy && !isElement;\n        var isKnownComponent = _typeof(children) === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);\n\n        if (typeof child === 'string') {\n          var value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n          mem.push(value);\n        } else if (hasChildren(child) || isValidTranslationWithChildren) {\n            var inner = renderInner(child, node, rootReactNode);\n            pushTranslatedJSX(child, inner, mem, i);\n          } else if (isEmptyTransWithHTML) {\n          var _inner = mapAST(reactNodes, node.children, rootReactNode);\n\n          mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n            key: i\n          }), _inner));\n        } else if (Number.isNaN(parseFloat(node.name))) {\n          if (isKnownComponent) {\n            var _inner2 = renderInner(child, node, rootReactNode);\n\n            pushTranslatedJSX(child, _inner2, mem, i, node.voidElement);\n          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n            if (node.voidElement) {\n              mem.push(React.createElement(node.name, {\n                key: \"\".concat(node.name, \"-\").concat(i)\n              }));\n            } else {\n              var _inner3 = mapAST(reactNodes, node.children, rootReactNode);\n\n              mem.push(React.createElement(node.name, {\n                key: \"\".concat(node.name, \"-\").concat(i)\n              }, _inner3));\n            }\n          } else if (node.voidElement) {\n            mem.push(\"<\".concat(node.name, \" />\"));\n          } else {\n            var _inner4 = mapAST(reactNodes, node.children, rootReactNode);\n\n            mem.push(\"<\".concat(node.name, \">\").concat(_inner4, \"</\").concat(node.name, \">\"));\n          }\n        } else if (_typeof(child) === 'object' && !isElement) {\n          var content = node.children[0] ? translationContent : null;\n          if (content) mem.push(content);\n        } else if (node.children.length === 1 && translationContent) {\n          mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n            key: i\n          }), translationContent));\n        } else {\n          mem.push(React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n            key: i\n          })));\n        }\n      } else if (node.type === 'text') {\n        var wrapTextNodes = i18nOptions.transWrapTextNodes;\n\n        var _content = shouldUnescape ? unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n\n        if (wrapTextNodes) {\n          mem.push(React.createElement(wrapTextNodes, {\n            key: \"\".concat(node.name, \"-\").concat(i)\n          }, _content));\n        } else {\n          mem.push(_content);\n        }\n      }\n\n      return mem;\n    }, []);\n  }\n\n  var result = mapAST([{\n    dummy: true,\n    children: children || []\n  }], ast, getAsArray(children || []));\n  return getChildren(result[0]);\n}\n\nexport function Trans(_ref) {\n  var children = _ref.children,\n      count = _ref.count,\n      parent = _ref.parent,\n      i18nKey = _ref.i18nKey,\n      context = _ref.context,\n      _ref$tOptions = _ref.tOptions,\n      tOptions = _ref$tOptions === void 0 ? {} : _ref$tOptions,\n      values = _ref.values,\n      defaults = _ref.defaults,\n      components = _ref.components,\n      ns = _ref.ns,\n      i18nFromProps = _ref.i18n,\n      tFromProps = _ref.t,\n      shouldUnescape = _ref.shouldUnescape,\n      additionalProps = _objectWithoutProperties(_ref, _excluded2);\n\n  var _ref2 = useContext(I18nContext) || {},\n      i18nFromContext = _ref2.i18n,\n      defaultNSFromContext = _ref2.defaultNS;\n\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');\n    return children;\n  }\n\n  var t = tFromProps || i18n.t.bind(i18n) || function (k) {\n    return k;\n  };\n\n  if (context) tOptions.context = context;\n\n  var reactI18nextOptions = _objectSpread(_objectSpread({}, getDefaults()), i18n.options && i18n.options.react);\n\n  var namespaces = ns || t.ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  var defaultValue = defaults || nodesToString(children, reactI18nextOptions) || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n  var hashTransKey = reactI18nextOptions.hashTransKey;\n  var key = i18nKey || (hashTransKey ? hashTransKey(defaultValue) : defaultValue);\n  var interpolationOverride = values ? tOptions.interpolation : {\n    interpolation: _objectSpread(_objectSpread({}, tOptions.interpolation), {}, {\n      prefix: '#$?',\n      suffix: '?$#'\n    })\n  };\n\n  var combinedTOpts = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, tOptions), {}, {\n    count: count\n  }, values), interpolationOverride), {}, {\n    defaultValue: defaultValue,\n    ns: namespaces\n  });\n\n  var translation = key ? t(key, combinedTOpts) : defaultValue;\n  var content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n  var useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n  return useAsParent ? React.createElement(useAsParent, additionalProps, content) : content;\n}"]},"metadata":{},"sourceType":"module"}